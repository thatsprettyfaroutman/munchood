/* */ 
"use strict";function xhttp(n,e,t){validate(n,isPlainObject),validate(n.url,isString),validate(e,isFunction),validate(t,isFunction);var r=new XMLHttpRequest,i=(n.method||"GET").toUpperCase(),o=encodeUrl(i,n.url,n.body);r.open(i,o,isBoolean(n.async)?n.async:!0,n.username||"",n.password||"");var s=contentHeaders(n.headers,n.body);for(var a in s)r.setRequestHeader(a,s[a]);r.onerror=r.ontimeout=r.onabort=onload(t),r.onload=statusSwitch(onload(e),r.onerror),r.send(serialiseBody(i,n.body))}function merge(n,e){var t={};if(isPlainObject(n))for(var r in n)t[r]=n[r];if(isPlainObject(e))for(var r in e)t[r]=e[r];return t}function serialiseBody(n,e){return readOnly(n)?null:isSerialisable(e)?JSON.stringify(e):e}function contentHeaders(n,e){return isSerialisable(e)?merge(jsonHeaders,n):isPlainObject(n)?n:{}}function encodeUrl(n,e,t){return readOnly(n)&&isPlainObject(t)?joinWithQuery(e,encodeQuery(t)):e}function encodeQuery(n){var e=[];for(var t in n)e.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e.join("&")}function joinWithQuery(n,e){return e?n+"?"+e:n}function readOnly(n){return"GET"===n||"HEAD"===n||"OPTIONS"===n}function isObject(n){return null!==n&&"object"==typeof n}function isPlainObject(n){return isObject(n)&&(n.constructor===Object||!("constructor"in n))}function isArray(n){return n instanceof Array}function isSerialisable(n){return!isObject(n)||isArray(n)||isPlainObject(n)||"toJSON"in n}function isBoolean(n){return"boolean"==typeof n}function isString(n){return"string"==typeof n}function isFunction(n){return"function"==typeof n}function parsePermissive(n){try{return JSON.parse(n)}catch(e){return n}}function statusSwitch(n,e){return function(){return this.status>199&&this.status<300?n.call(this):e.call(this)}}function onload(n){return function(){return n(parsePermissive(this.responseText),this)}}function validate(n,e){if(!e(n))throw Error("Expected "+n+" to satisfy test "+e.name)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.xhttp=xhttp;var jsonHeaders={"Content-Type":"application/json",Accept:"application/json"};